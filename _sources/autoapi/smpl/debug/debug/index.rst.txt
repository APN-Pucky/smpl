:py:mod:`smpl.debug.debug`
==========================

.. py:module:: smpl.debug.debug


Module Contents
---------------


Functions
~~~~~~~~~

.. autoapisummary::

   smpl.debug.debug.get_frame
   smpl.debug.debug.once
   smpl.debug.debug.times
   smpl.debug.debug.get_line_src
   smpl.debug.debug.get_line_number_file
   smpl.debug.debug.get_line_number
   smpl.debug.debug.line
   smpl.debug.debug.line1
   smpl.debug.debug.get_count
   smpl.debug.debug.inc_count
   smpl.debug.debug.check_count
   smpl.debug.debug.msg
   smpl.debug.debug.msg1
   smpl.debug.debug.file
   smpl.debug.debug.file1
   smpl.debug.debug.table_flush_header
   smpl.debug.debug.table_flush_line
   smpl.debug.debug.table
   smpl.debug.debug.reset_times
   smpl.debug.debug.reset_table



Attributes
~~~~~~~~~~

.. autoapisummary::

   smpl.debug.debug.DEBUG_LEVEL
   smpl.debug.debug.DEBUG_PRE
   smpl.debug.debug.WHITE_LIST_FILES
   smpl.debug.debug.BLACK_LIST_FILES
   smpl.debug.debug.count_times
   smpl.debug.debug.cur_table_line
   smpl.debug.debug.reset_count


.. py:data:: DEBUG_LEVEL
   

   

.. py:data:: DEBUG_PRE
   :annotation: = DBG

   

.. py:data:: WHITE_LIST_FILES
   :annotation: = []

   

.. py:data:: BLACK_LIST_FILES
   :annotation: = []

   

.. py:data:: count_times
   

   

.. py:data:: cur_table_line
   

   

.. py:function:: get_frame(_back=0)


.. py:function:: once(_back=0)

   Returns true only one time

   Examples
   --------
   >>> for i in range(10):
   ...     if once():
   ...         print(i)
   0



.. py:function:: times(t=1, _back=0)

   Returns true if the count of the current line is greater than or equal to ``t``.

   Parameters
   ----------
   t : int
       The count to check against.
   _back : int
       Number of stack/frames to go back.

   Returns
   -------
   bool
       True if the count of the current line is greater than or equal to ``t``.

   Examples
   --------
   >>> reset_times()
   >>> for i in range(10):
   ...     if times(3):
   ...         print(i)
   0
   1
   2


.. py:function:: get_line_src(_back=0)

   Gets the current line in the python source.

   Parameters
   ----------
   _back : int
       Number of stack/frames to go back.

   Returns
   -------
   src : str
       The current line in the python source.

   Examples
   --------
   >>> get_line_src()
   'get_line_src()'
   >>> "funky"+get_line_src()
   'funky"funky"+get_line_src()'


.. py:function:: get_line_number_file(split=True, _back=0)

   Gets the current filename and the current linenumber within it.

   Parameters
   ----------
   split : bool
       Indicates whenever the folders above of the file should be included in the returned filename.
   _back : int
       Number of stack/frames to go back.

   Returns
   -------
   filenumber : int
       First element in the return array
   filename : str
       Second element in the return array

   Examples
   --------
   >>> get_line_number_file()
   (1, '<doctest smpl.debug.debug.get_line_number_file[0]>')
   >>> for i in range(2):
   ...     get_line_number_file()
   (2, '<doctest smpl.debug.debug.get_line_number_file[1]>')
   (2, '<doctest smpl.debug.debug.get_line_number_file[1]>')


.. py:function:: get_line_number(_back=0)


.. py:function:: line(msg_, tag='', level=0, times=-1, _back=0, **kwargs)


.. py:function:: line1(msg_, tag='', level=0, times=1, _back=0, **kwargs)

   Just like :func:`line` but ``times`` set to 1.

   Examples
   --------
   >>> for i in range(-2,2):
   ...     line1(i,level=-1)
   DBG::<doctest smpl.debug.debug.line1[0]>:2: line1(i,level=-1) = -2


.. py:function:: get_count(line, fname)

   Returns the counts of the line.

   Parameters
   ----------
   line : int
       The line in the python source of ``fname``.
   fname : str
       The filename.

   Returns
   -------
   count : int
       The count of the current line.

   Examples
   --------
   >>> get_count(1, "debug.py")
   0


.. py:function:: inc_count(line, fname)

   Increments the count of the line.

   Parameters
   ----------
   line : int
       The line in the python source of ``fname``.
   fname : str
       The filename.

   Examples
   --------
   >>> inc_count(1, "debug.py")


.. py:function:: check_count(line, fname, t)

   Returns true if the count of the line is greater than or equal to ``t``.

   Parameters
   ----------
   line : int
       The line in the python source of ``fname``.
   fname : str
       The filename.
   t : int
       The count to check against.

   Returns
   -------
   bool
       True if the count of the line is greater than or equal to ``t``.

   Examples
   --------
   >>> check_count(2, "debug.py", 0)
   True
   >>> inc_count(2, "debug.py")
   >>> check_count(2, "debug.py", 0)
   False



.. py:function:: msg(msg, tag='', level=0, times=-1, line_=False, _back=0, **kwargs)

   Prints the message ``msg`` if level > debug_level and always returns the msg.

   Parameters
   ----------
   tag : str
       Sets a tag to be printed for the debug message.
   level : int
       Debug level.
   times : int
       How often should the message be printed if the function gets called multiple times (e.g. in a loop).
   _line : bool
       Print the current line in the python source.
   _back : int
       Number of stack/frames to go back.

   Examples
   --------
   >>> msg("hi", level = -9999)
   DBG::<doctest smpl.debug.debug.msg[0]>:1: hi
   'hi'
   >>> msg("hi")
   'hi'



.. py:function:: msg1(_msg, tag='', level=0, times=1, line_=False, _back=0, **kwargs)

   Just like :func:`msg` but ``times`` set to 1.

   Parameters
   ----------
   tag : str
       Sets a tag to be printed for the debug message.
   level : int
       Debug level.
   times : int
       How often should the message be printed if the function gets called multiple times (e.g. in a loop).
   _line : bool
       Print the current line in the python source.
   _back : int
       Number of stack/frames to go back.

   Examples
   --------
   >>> for i in range(-2,2):
   ...     msg1(i, level = i)
   DBG::<doctest smpl.debug.debug.msg1[0]>:2: -2
   -2
   -1
   0
   1


.. py:function:: file(key, value, level=0, times=-1, seperator=';', _print=True, _back=0, filename='debug.csv')

   Prints the message ``msg`` if level > debug_level to file ``filename``.


.. py:function:: file1(_key, _value, level=0, times=1, _back=0, **kwargs)

   Just like :func:`file` but ``times`` set to 1.


.. py:function:: table_flush_header(filename='debug_table.csv', seperator=';')

   Saves the current keys from :func:`table` to ``filename``.


.. py:function:: table_flush_line(filename='debug_table.csv', seperator=';')

   Saves the current values from :func:`table` to ``filename``


.. py:function:: table(key, value, level=0, times=-1, seperator=';', _print=False, _back=0, filename='debug_table.csv')

   Saves ``key``:``value`` in ``filename``.

   Examples
   --------
   >>> for i in range(-2,2):
   ...     table("a", i,level=-1)
   ...     table("b", i**2,level=-1)
   ...     table("c", i**i,level=-1)
   ...     if once(): table_flush_header();
   ...     table_flush_line()
   -2
   4
   0.25
   -1
   1
   -1.0
   0
   0
   1
   1
   1
   1
   >>> from smpl import io
   >>> print(io.read("debug_table.csv").strip())
   a;b;c;
   -2.000000000000000000000000000000e+00;4.000000000000000000000000000000e+00;2.500000000000000000000000000000e-01;
   -1.000000000000000000000000000000e+00;1.000000000000000000000000000000e+00;-1.000000000000000000000000000000e+00;
   0.000000000000000000000000000000e+00;0.000000000000000000000000000000e+00;1.000000000000000000000000000000e+00;
   1.000000000000000000000000000000e+00;1.000000000000000000000000000000e+00;1.000000000000000000000000000000e+00;
   >>> import pandas as pd
   >>> pd.read_csv("debug_table.csv")
                                                 a;b;c;
   0  -2.000000000000000000000000000000e+00;4.000000...
   1  -1.000000000000000000000000000000e+00;1.000000...
   2  0.000000000000000000000000000000e+00;0.0000000...
   3  1.000000000000000000000000000000e+00;1.0000000...
   >>> reset_table()
   >>> io.write("debug_table.csv","")
   >>> for i in range(1,3):
   ...     table("a", np.array([i*k for k in range(5)]),level=-1)
   ...     table("b", np.array([i*i*k for k in range(5)]),level=-1)
   ...     if once(): table_flush_header();
   ...     table_flush_line()
   array([0, 1, 2, 3, 4])
   array([0, 1, 2, 3, 4])
   array([0, 2, 4, 6, 8])
   array([ 0,  4,  8, 12, 16])
   >>> print(io.read("debug_table.csv").strip())
   a;b;
   0.000000000000000000000000000000e+00;0.000000000000000000000000000000e+00;
   1.000000000000000000000000000000e+00;1.000000000000000000000000000000e+00;
   2.000000000000000000000000000000e+00;2.000000000000000000000000000000e+00;
   3.000000000000000000000000000000e+00;3.000000000000000000000000000000e+00;
   4.000000000000000000000000000000e+00;4.000000000000000000000000000000e+00;
   0.000000000000000000000000000000e+00;0.000000000000000000000000000000e+00;
   2.000000000000000000000000000000e+00;4.000000000000000000000000000000e+00;
   4.000000000000000000000000000000e+00;8.000000000000000000000000000000e+00;
   6.000000000000000000000000000000e+00;1.200000000000000000000000000000e+01;
   8.000000000000000000000000000000e+00;1.600000000000000000000000000000e+01;


.. py:function:: reset_times()

   Resets global `count_times`.


.. py:function:: reset_table()

   Resets global `cur_table_line`.


.. py:data:: reset_count
   

   

